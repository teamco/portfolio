{"version":3,"sources":["/Users/teamco/Prj/portfolio/src/components/Page/Error/error.module.less?asmodule","src/components/Page/Error/error.page.connect.js","src/components/Page/Error/error.page.jsx","src/components/Page/Error/index.js"],"sourcesContent":["\nimport \"/Users/teamco/Prj/portfolio/src/components/Page/Error/error.module.less?modules\";\nexport default {\"main-bg-color\": `main-bg-color-dCbxzzYq`,\"extended\": `extended-NRGcmrxz`,\"editLight\": `editLight-dvWpJhmf`,\"skip\": `skip-pKiJ10tY`,\"truncate\": `truncate-eyyKLCMU`,\"empty\": `empty-xDD3EN4G`,\"ant-btn-disabled\": `ant-btn-disabled-vnMujKDY`,\"labelIcon\": `labelIcon-Dg-6RA9z`,\"skewed\": `skewed-HdGAPV_L`,\"vertical\": `vertical-nTCVC0pz`,\"required\": `required-hc5kecck`,\"break-word\": `break-word-NyTqBRqa`,\"largeFormItems\": `largeFormItems-Z1CZ24n1`,\"borderedContent\": `borderedContent-jLfoFcRc`,\"row\": `row-msZG10IL`,\"modalApi\": `modalApi-l3N5egcR`,\"page404\": `page404-hOoPDpoe`,\"page403\": `page403-lTYL2B-o`,\"lightSwitch\": `lightSwitch-CFbH44QI`,\"page500\": `page500-UIII77uQ`,\"darkSwitch\": `darkSwitch-9hz0Jikx`,\"pageWarning\": `pageWarning-WL3Lysex`,\"form\": `form-2lT7lAUf`,\"errorFlexCenter\": `errorFlexCenter-nvDkHuRS`,\"inline\": `inline-kZ_1w0Uk`,\"light\": `light-pOcZZNGx`,\"modalForm\": `modalForm--3um0whB`,\"collapse\": `collapse-Vr-B2oJb`,\"groupWrapper\": `groupWrapper-2w1iTeCk`,\"dark\": `dark-d2pE98TO`,\"group\": `group-Qra8F_A_`,\"modalFooter\": `modalFooter-fIAel8rE`,\"infoBtn\": `infoBtn-n52-ki8U`,\"r2\": `r2-WKE5P2zg`,\"r3\": `r3-tLKR57Mb`,\"max-width\": `max-width-PmGFZrFC`,\"r4\": `r4-NCWYrJeR`,\"r5\": `r5-1G9p97s2`,\"editDark\": `editDark-_4teKnPA`,\"radioGroup\": `radioGroup-6vfkThAW`,\"ant-radio-button-wrapper-disabled\": `ant-radio-button-wrapper-disabled-4o7roCLT`,\"formHidden\": `formHidden-KE1th-rR`}\n","import { connect } from '@umijs/max';\n\nimport ErrorPage from './error.page';\n\nconst MODEL_NAME = 'errorModel';\n\nexport default connect(({ authModel, errorModel, loading }) => ({\n      authModel,\n      errorModel,\n      loading\n    }),\n    dispatch => ({\n      onQuery(payload) {\n        dispatch({ type: `${MODEL_NAME}/query`, payload });\n      }\n    })\n)(ErrorPage);","import React, { memo } from 'react';\nimport { Button, Result } from 'antd';\nimport classnames from 'classnames';\nimport { useIntl, history } from '@umijs/max';\n\nimport { effectHook } from '@/utils/hooks';\nimport { logger } from '@/utils/console';\nimport { t } from '@/utils/i18n';\nimport { Can } from '@/utils/auth/can';\nimport { stub } from '@/utils/function';\n\nimport Loader from '@/components/Loader';\n\nimport styles from './error.module.less';\n\n/**\n * @export\n * @param props\n * @returns {JSX.Element}\n * @constructor\n */\nconst ErrorPage = props => {\n  const intl = useIntl();\n\n  const {\n    loading,\n    errorModel,\n    status,\n    subject,\n    className,\n    spinOn = [],\n    title = t(intl, 'error.warning'),\n    subTitle = t(intl, 'error.warningMsg'),\n    onQuery = stub\n  } = props;\n\n  const { errors = [] } = errorModel;\n\n  const MODEL_NAME = 'errorModel';\n\n  const { href } = window.location;\n  const url = new URL(href);\n  const referrer = url.searchParams.get('referrer');\n\n  const extra = referrer ? (\n      <Button type={'default'} onClick={() => history.push(referrer)}>\n        {t(intl, 'actions.back')}\n      </Button>\n  ) : null;\n\n  const _error = (\n      <Can I={'read'} a={subject}>\n        <Loader loading={loading}\n                spinOn={[\n                  `${MODEL_NAME}/query`,\n                  `${MODEL_NAME}/saveError`,\n                  ...spinOn\n                ]}/>\n        <div className={styles.errorFlexCenter}>\n          <Result extra={extra}\n                  status={status}\n                  title={title}\n                  subTitle={subTitle}\n                  className={classnames(styles[subject], className)}/>\n        </div>\n      </Can>\n  );\n\n  effectHook(() => {\n    DEBUG && errors?.length && logger({ type: 'warn', log: errors });\n  }, [JSON.stringify(errors), DEBUG]);\n\n  effectHook(() => {\n    onQuery({ status, title });\n  });\n\n  return _error;\n};\n\nexport default memo(ErrorPage);","import ErrorPage from '@/components/Page/Error/error.page.connect';\n\nexport default ErrorPage;\n"],"names":[],"mappings":"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"}